{"version":3,"file":"reddit.esm.js","sources":["../../src/providers/reddit.ts"],"sourcesContent":["import { OAuth2Provider } from \"./oauth2\";\r\nconst redditProfileHandler = ({ is_employee, has_external_account, snoovatar_img, verified, id, over_18, is_gold, is_mod, awarder_karma, has_verified_email, is_suspended, icon_img, pref_nightmode, awardee_karma, password_set, link_karma, total_karma, name, created, created_utc, comment_karma, }) => ({\r\n    is_employee,\r\n    has_external_account,\r\n    snoovatar_img,\r\n    verified,\r\n    id,\r\n    over_18,\r\n    is_gold,\r\n    is_mod,\r\n    awarder_karma,\r\n    has_verified_email,\r\n    is_suspended,\r\n    icon_img,\r\n    pref_nightmode,\r\n    awardee_karma,\r\n    password_set,\r\n    link_karma,\r\n    total_karma,\r\n    name,\r\n    created,\r\n    created_utc,\r\n    comment_karma,\r\n});\r\nconst defaultConfig = {\r\n    id: \"reddit\",\r\n    scope: \"identity\",\r\n    profile: redditProfileHandler,\r\n    authorizationUrl: \"https://www.reddit.com/api/v1/authorize\",\r\n    accessTokenUrl: \"https://www.reddit.com/api/v1/access_token\",\r\n    profileUrl: \"https://oauth.reddit.com/api/v1/me\",\r\n    contentType: \"application/x-www-form-urlencoded\",\r\n};\r\nexport class RedditOAuth2Provider extends OAuth2Provider {\r\n    constructor(config) {\r\n        super({\r\n            ...defaultConfig,\r\n            ...config,\r\n            clientId: config.apiKey,\r\n            clientSecret: config.apiSecret,\r\n            headers: {\r\n                ...config.headers,\r\n                Authorization: \"Basic \" + Buffer.from(`${config.apiKey}:${config.apiSecret}`).toString(\"base64\"),\r\n            },\r\n            authorizationParams: {\r\n                ...config.authorizationParams,\r\n                duration: config.duration ?? \"temporary\",\r\n            },\r\n        });\r\n    }\r\n}\r\nRedditOAuth2Provider.profileHandler = redditProfileHandler;\r\n"],"names":[],"mappings":";;;;;;AACA,MAAM,uBAAuB,CAAC,EAAE,aAAa,sBAAsB,eAAe,UAAU,IAAI,SAAS,SAAS,QAAQ,eAAe,oBAAoB,cAAc,UAAU,gBAAgB,eAAe,cAAc,YAAY,aAAa,MAAM,SAAS,aAAa;AAAsB,EACzS;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAEJ,MAAM,gBAAgB;AAAA,EAClB,IAAI;AAAA,EACJ,OAAO;AAAA,EACP,SAAS;AAAA,EACT,kBAAkB;AAAA,EAClB,gBAAgB;AAAA,EAChB,YAAY;AAAA,EACZ,aAAa;AAAA;mCAEyB,eAAe;AAAA,EACrD,YAAY,QAAQ;AAChB,UAAM;AAAA,SACC;AAAA,SACA;AAAA,MACH,UAAU,OAAO;AAAA,MACjB,cAAc,OAAO;AAAA,MACrB,SAAS;AAAA,WACF,OAAO;AAAA,QACV,eAAe,WAAW,OAAO,KAAK,GAAG,OAAO,UAAU,OAAO,aAAa,SAAS;AAAA;AAAA,MAE3F,qBAAqB;AAAA,WACd,OAAO;AAAA,QACV,UAAU,OAAO,YAAY;AAAA;AAAA;AAAA;AAAA;AAK7C,qBAAqB,iBAAiB;;;;"}